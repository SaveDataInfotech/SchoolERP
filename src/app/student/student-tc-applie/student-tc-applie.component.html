<mat-tab-group animationDuration="0ms">
    <mat-tab label="Multiple Students">
        <div class="container-fluid">
            <mat-card class="mt-4 matcard mb-2">
                <mat-card-content>
                    <div class="row">
                        <div class="col-sm-6" style="display: flex;">
                            <div style="float: left;width: 300px;">
                                <h3 class="ml-1">Student TC/Left/Long Absente</h3>
                            </div>
                        </div>
                    </div>
                    <form [formGroup]="studentTcApplyForm" (ngSubmit)="newTcApplyAll()">
                        <div class="row">
                            <div class="col-sm-5">
                                <div class="row ">
                                    <div class="col-sm-12 mt-3" style="display: flex;">
                                        <div class="labeldiv">
                                            <label class="pt-2" style="margin: auto;">Batch<span class="text-danger">
                                                    *</span></label>
                                        </div>
                                        <div class="inputdiv">
                                            <select
                                                [ngClass]="{'is-invalid':studentTcApplyForm.controls.batch_year.touched && studentTcApplyForm.controls.batch_year.errors}"
                                                formControlName="batch_year" style="width: 100%;" class="form-control"
                                                required>
                                                <option value='' selected disabled>Please select</option>
                                                <option [ngValue]="batch.batch_year" *ngFor="let batch of BatchList;">
                                                    {{batch.batch_year}}</option>
                                            </select>
                                        </div>
                                    </div>
                                </div>

                                <div class="row">
                                    <div class="col-sm-12 mt-3" style="display: flex;">
                                        <div class="labeldiv">
                                            <label class="pt-2" style="margin: auto;">Class<span class="text-danger">
                                                    *</span></label>
                                        </div>
                                        <div class="inputdiv">
                                            <select
                                                [ngClass]="{'is-invalid': studentTcApplyForm.get('classid')?.touched && studentTcApplyForm.get('classid')?.errors }"
                                                formControlName="classid" style="width: 100%;" #t required
                                                (change)="filterGroupfun(t.value)" class="form-control ">
                                                <option value=null selected disabled>Please select</option>
                                                <option value={{class.classid}} *ngFor="let class of ClassList;">
                                                    {{class.class_name}}</option>
                                            </select>
                                        </div>
                                    </div>
                                </div>

                                <div class="row" *ngIf="groupFilterlist.length != 0">
                                    <div class="col-sm-12 mt-3" style="display: flex;">
                                        <div class="labeldiv">
                                            <label class="pt-2" style="margin: auto;">Group</label>
                                        </div>
                                        <div class="inputdiv">
                                            <select formControlName="groupid" style="width: 100%;" #s
                                                (change)="filterSectionfun(s.value)" class="form-control ">
                                                <option value=0 selected disabled>Please select</option>
                                                <option value={{group.groupid}} *ngFor="let group of groupFilterlist;">
                                                    {{group.group_name}}</option>
                                            </select>
                                        </div>
                                    </div>
                                </div>

                                <div class="row ">
                                    <div class="col-sm-12 mt-3" style="display: flex;">
                                        <div class="labeldiv">
                                            <label class="pt-2" style="margin: auto;">Section<span class="text-danger">
                                                    *</span></label>
                                        </div>
                                        <div class="inputdiv">
                                            <select
                                                [ngClass]="{'is-invalid': studentTcApplyForm.get('sectionid')?.touched && studentTcApplyForm.get('sectionid')?.errors }"
                                                formControlName="sectionid" style="width: 100%;" required
                                                class="form-control ">
                                                <option value=null selected disabled>Please select</option>
                                                <option [ngValue]="section.sectionid"
                                                    *ngFor="let section of sectionFilterlist;">
                                                    {{section.section_name}}</option>
                                            </select>
                                        </div>
                                    </div>
                                </div>

                                <div class="col-sm-12 mt-4">
                                    <div style="text-align: center;">
                                        <input (click)="searchStudentByClass()" type="button" style="width: 80px;"
                                            class="btn btn-primary mr-3 btn-sm" value="Search" />
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="table-responsive text-nowrap mt-5">
                            <table formArrayName="leftdetails"
                                class="col-sm-12 table table-hover table-bordered table-sm  ">
                                <thead>
                                    <tr>
                                        <th>Si.No</th>
                                        <th></th>
                                        <th>A.NO</th>
                                        <th>Type</th>
                                        <th>TC.NO</th>
                                        <th>Date</th>
                                        <th>Remarks</th>
                                    </tr>
                                </thead>
                                <tbody
                                    *ngFor="let chid of studentTcApplyForm.get('leftdetails')['controls']; let i = index"
                                    formGroupName="{{i}}">
                                    <tr>
                                        <td><span class="mt-2">{{i+1}}</span></td>
                                        <td><input type="checkbox" formControlName="selected"></td>
                                        <td>{{chid.get('admission_no').value}}--{{chid.get('student_name').value}}</td>
                                        <td>
                                            <select formControlName="type" class="form-control" style="width: 150px;">
                                                <option value="" selected disabled>Please Select</option>
                                                <option value="Left">Left</option>
                                                <option value="Long Absent">Long Absent</option>
                                                <option value="TC">TC</option>
                                            </select>
                                        </td>
                                        <td><input formControlName="tcno" style="width: 110px;" class="form-control" />
                                        </td>
                                        <td><input formControlName="date" type="date" class="form-control" /></td>
                                        <td><input formControlName="remarks" type="text" style="width: 200px;"
                                                class="form-control" /></td>
                                    </tr>
                                </tbody>
                                <div>
                                </div>
                            </table>
                        </div>
                        <div class="col-sm-12 mt-4">
                            <div style="text-align: center;">
                                <input matTooltip="Click to Save" type="submit" style="width: 80px;"
                                    class="btn btn-success mr-3 btn-sm" value="Save" />
                                <input matTooltip="Click to Cancel" (click)="CancelClickInAll()" type="button"
                                    style="width: 80px;" class="btn btn-primary btn-sm mr-2" value="Cancel" />
                                <input type="button" style="width: 80px;" class="btn btn-danger btn-sm"
                                    (click)="backButton()" value="Close" />
                            </div>
                        </div>
                    </form>
                </mat-card-content>
            </mat-card>
        </div>
    </mat-tab>

    <mat-tab label="Individual Student">
        <div class="container-fluid mt-4 mb-2">
            <mat-card class="mt-2 matcard">
                <mat-card-content>
                    <div class="row">
                        <div class="col-sm-6" style="display: flex;">
                            <div style="float: left;width: 300px;">
                                <h3 class="ml-1">Student TC/Left/Long Absente</h3>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-sm-5 mt-3">
                            <form [formGroup]="oneStudentTcLeftForm" (ngSubmit)="newTcApply()">
                                <div class="row">
                                    <div class="col-sm-12" style="display: flex;">
                                        <div class="labeldiv">
                                            <label class="pt-2" style="margin: auto;">Admission No<span
                                                    class="text-danger"> *</span></label>
                                        </div>
                                        <div class="inputdiv">
                                            <input
                                                [ngClass]="{'is-invalid':oneStudentTcLeftForm.controls.admission_no.touched && oneStudentTcLeftForm.controls.admission_no.errors}"
                                                [readonly]="serachDisabledone == true" formControlName="admission_no"
                                                (keypress)="numberOnly($event)" class="form-control" type="text"
                                                required>
                                            <span class="text-danger"
                                                *ngIf="oneStudentTcLeftForm.controls.admission_no.touched && oneStudentTcLeftForm.controls.admission_no.errors">
                                                <div
                                                    *ngIf="oneStudentTcLeftForm.controls.admission_no.touched && oneStudentTcLeftForm.controls.admission_no.errors.required">
                                                    Admission No is required
                                                </div>
                                            </span>
                                        </div>
                                    </div>

                                    <div class="col-sm-12 ml-5">
                                        <div style="text-align: center;">
                                            <button matTooltip="Click to Search" type="button"
                                                (click)="searchStudentByAdNo()"
                                                class="btn btn-primary btn-sm mt-3">Search<i
                                                    class="fa fa-search ml-2"></i></button>
                                        </div>
                                    </div>

                                    <div class="col-sm-12 mt-3" style="display: flex;">
                                        <div class="labeldiv">
                                            <label class="pt-2">Type<span class="text-danger"> *</span></label>
                                        </div>
                                        <div class="inputdiv">
                                            <select
                                                [ngClass]="{'is-invalid':oneStudentTcLeftForm.controls.type.touched && oneStudentTcLeftForm.controls.type.errors}"
                                                style="width: 100%;" formControlName="type" class="form-control"
                                                required>
                                                <option value="" selected disabled>Please select</option>
                                                <option value="Left">Left</option>
                                                <option value="Long Absent">Long Absent</option>
                                                <option value="TC">TC</option>
                                            </select>
                                            <span class="text-danger"
                                                *ngIf="oneStudentTcLeftForm.controls.type.touched && oneStudentTcLeftForm.controls.type.errors">
                                                <div
                                                    *ngIf="oneStudentTcLeftForm.controls.type.touched && oneStudentTcLeftForm.controls.type.errors.required">
                                                    Type is required
                                                </div>
                                            </span>
                                        </div>
                                    </div>

                                    <div *ngIf="oneStudentTcLeftForm.value.type == 'TC'" style="display: flex;"
                                        class="col-sm-12 mt-4">
                                        <div class="labeldiv">
                                            <label class="pt-2" style="margin: auto;">Tc No</label>
                                        </div>
                                        <div class="inputdiv">
                                            <input formControlName="tcno" class="form-control" type="text" required>
                                        </div>
                                    </div>

                                    <div style="display: flex;" class="col-sm-12 mt-4">
                                        <div class="labeldiv">
                                            <label class="pt-2" style="margin: auto;">Date<span class="text-danger">
                                                    *</span></label>
                                        </div>
                                        <div class="inputdiv">
                                            <input
                                                [ngClass]="{'is-invalid':oneStudentTcLeftForm.controls.date.touched && oneStudentTcLeftForm.controls.date.errors}"
                                                formControlName="date" [value]="today" class="form-control" type="date"
                                                required>
                                            <span class="text-danger"
                                                *ngIf="oneStudentTcLeftForm.controls.date.touched && oneStudentTcLeftForm.controls.date.errors">
                                                <div
                                                    *ngIf="oneStudentTcLeftForm.controls.date.touched && oneStudentTcLeftForm.controls.date.errors.required">
                                                    Date is required
                                                </div>
                                            </span>
                                        </div>
                                    </div>

                                    <div style="display: flex;" class="col-sm-12 mt-4">
                                        <div class="labeldiv">
                                            <label class="pt-2" style="margin: auto;">Remarks<span class="text-danger">
                                                    *</span></label>
                                        </div>
                                        <div class="inputdiv">
                                            <input
                                                [ngClass]="{'is-invalid':oneStudentTcLeftForm.controls.remarks.touched && oneStudentTcLeftForm.controls.remarks.errors}"
                                                formControlName="remarks" class="form-control" type="text" required>
                                            <span class="text-danger"
                                                *ngIf="oneStudentTcLeftForm.controls.remarks.touched && oneStudentTcLeftForm.controls.remarks.errors">
                                                <div
                                                    *ngIf="oneStudentTcLeftForm.controls.remarks.touched && oneStudentTcLeftForm.controls.remarks.errors.required">
                                                    Remarks is required
                                                </div>
                                            </span>
                                        </div>
                                    </div>

                                    <div class="ml-5 col-sm-12" style="text-align: center;">
                                        <input matTooltip="Click to Save" type="submit" style="width: 80px;"
                                            class="btn btn-success mr-3 btn-sm mt-3" value="Save" />
                                        <input matTooltip="Click to Cancel" type="button" (click)="CancelClickInTc()"
                                            style="width: 80px;" class="btn btn-primary btn-sm mr-2 mt-3"
                                            value="Cancel" />
                                        <input type="button" style="width: 80px;" class="btn btn-danger btn-sm mt-3"
                                            (click)="backButton()" value="Close" />
                                    </div>
                                </div>
                            </form>
                        </div>

                        <div *ngFor="let student of StudentDataList" class="col-sm-7  mt-2">
                            <mat-card style="background-color: rgb(228, 227, 227);" class="mt-2">
                                <mat-card-content style="width: 100%;">
                                    <div class="row" style="font-size: 15px;">
                                        <div class="col-sm-3">
                                            <img style="border-radius: 10px;border: 2px solid white;"
                                                src="{{student.simage}}" alt="{{student.student_name}}" width="100"
                                                height="100">
                                        </div>

                                        <div class="col-sm-9">
                                            <div class="row">
                                                <label class="labelhead col-sm-5">{{student.student_name}}</label>
                                                <label class="labelhead col-sm-6">Admission
                                                    No <span class="labelcon ml-2">{{student.admission_no}}</span>
                                                </label>
                                            </div>

                                            <div class="row">
                                                <label class="labelhead col-sm-6">Aadhar<span class="labelcon ml-2">{{student.aadhar}}</span></label>                                                
                                            </div>

                                            <div class="row">
                                                <label class="labelhead col-sm-12">Class<span
                                                        class="labelcon ml-2">{{student.class_name}}</span><span
                                                        class="labelcon ml-2">- {{student.group_name}}</span><span
                                                        class="labelcon ml-2">- {{student.section_name}}</span></label>                                                
                                            </div>

                                            <div class="row">
                                                <label class="labelhead col-sm-12">Father<span
                                                        class="labelcon ml-2">{{student.father_name}}</span><span
                                                        class="labelcon ml-2">- {{student.f_ph}}</span></label>                                                
                                            </div>                                            
                                        </div>                                        
                                    </div>
                                </mat-card-content>
                            </mat-card>
                        </div>
                    </div>
                </mat-card-content>
            </mat-card>
        </div>
    </mat-tab>
</mat-tab-group>